local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local SoundService = game:GetService("SoundService")
local player = Players.LocalPlayer
local PlayerGui = player:WaitForChild("PlayerGui")

-- GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "GloveMenu"
screenGui.Parent = PlayerGui
screenGui.ResetOnSpawn = false

local clickSound = Instance.new("Sound")
clickSound.SoundId = "rbxassetid://452267918"
clickSound.Volume = 1
clickSound.Parent = SoundService

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 200, 0, 100)
mainFrame.Position = UDim2.new(1, 20, 0.3, 0)
mainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
mainFrame.AnchorPoint = Vector2.new(1, 0.5)
mainFrame.Visible = true
mainFrame.Parent = screenGui

Instance.new("UICorner", mainFrame).CornerRadius = UDim.new(0, 12)
Instance.new("UIStroke", mainFrame).Color = Color3.fromRGB(80, 80, 80)

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0.3, 0)
title.Position = UDim2.new(0, 0, 0, 0)
title.Text = "Slap Tower Menu"
title.TextColor3 = Color3.new(1, 1, 1)
title.BackgroundTransparency = 1
title.Font = Enum.Font.GothamSemibold
title.TextScaled = true
title.Parent = mainFrame

-- Get All Gloves button
local gloveButton = Instance.new("TextButton")
gloveButton.Size = UDim2.new(0.9, 0, 0.4, 0)
gloveButton.Position = UDim2.new(0.05, 0, 0.5, 0)
gloveButton.Text = "Get all Gloves"
gloveButton.TextColor3 = Color3.new(1, 1, 1)
gloveButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
gloveButton.Font = Enum.Font.Gotham
gloveButton.TextScaled = true
gloveButton.Parent = mainFrame
Instance.new("UICorner", gloveButton).CornerRadius = UDim.new(0, 8)

-- Toggle (collapse) button
local toggleButton = Instance.new("TextButton")
toggleButton.Size = UDim2.new(0, 30, 0, 30)
toggleButton.Position = UDim2.new(0.962, -200,0.254, 0)
toggleButton.Text = ">"
toggleButton.TextColor3 = Color3.new(1, 1, 1)
toggleButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
toggleButton.Font = Enum.Font.GothamBold
toggleButton.TextScaled = true
toggleButton.Parent = screenGui
Instance.new("UICorner", toggleButton).CornerRadius = UDim.new(0, 8)

-- Teleport + Return logic
local savedCFrame = nil
gloveButton.MouseButton1Click:Connect(function()
	clickSound:Play()
	local character = player.Character or player.CharacterAdded:Wait()
	local rootPart = character:WaitForChild("HumanoidRootPart")
	savedCFrame = rootPart.CFrame
	rootPart.CFrame = CFrame.new(185.226074, -8.57869244, 90.5352173)
	wait(.5)
	rootPart.CFrame = CFrame.new(-22.391264, -6.96977425, 107.38147)
	wait(.5)
	rootPart.CFrame = CFrame.new(-186.058868, 771.421936, 68.3176346)
	wait(.5)
	rootPart.CFrame = CFrame.new(-21.0327148, -8.57869434, 19.7716141)
	

	-- Автовозврат через 2 сек
	task.delay(2, function()
		if savedCFrame then
			rootPart.CFrame = savedCFrame
		end
	end)
end)

-- Menu animation logic
local isOpen = true

local function openMenu()
	mainFrame.Visible = true
	local tween = TweenService:Create(mainFrame, TweenInfo.new(0.4), {
		Position = UDim2.new(1, -10, 0.3, 0),
		BackgroundTransparency = 0
	})
	tween:Play()
	for _, child in ipairs(mainFrame:GetChildren()) do
		if child:IsA("TextLabel") or child:IsA("TextButton") then
			child.TextTransparency = 0
			child.BackgroundTransparency = (child:IsA("TextButton") and 0 or 1)
		end
	end
	toggleButton.Text = "<"
	isOpen = true
end

local function closeMenu()
	local tween = TweenService:Create(mainFrame, TweenInfo.new(0.4), {
		Position = UDim2.new(1, 220, 0.3, 0),
		BackgroundTransparency = 1
	})
	tween:Play()
	for _, child in ipairs(mainFrame:GetChildren()) do
		if child:IsA("TextLabel") or child:IsA("TextButton") then
			child.TextTransparency = 1
			child.BackgroundTransparency = 1
		end
	end
	tween.Completed:Connect(function()
		mainFrame.Visible = false
	end)
	toggleButton.Text = ">"
	isOpen = false
end

toggleButton.MouseButton1Click:Connect(function()
	clickSound:Play()
	if isOpen then
		closeMenu()
	else
		openMenu()
	end
end)

wait(0.5)
openMenu()
