local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- Создаём заставку
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "IntroScreen"
screenGui.Parent = player:WaitForChild("PlayerGui")

local introFrame = Instance.new("ImageLabel")
introFrame.Size = UDim2.new(1, 0, 1, 0)
introFrame.Position = UDim2.new(0, 0, 0, 0)
introFrame.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
introFrame.BackgroundTransparency = 0.2
introFrame.Image = "rbxassetid://109980441296620" -- ID заставки, используй "rbxassetid://" + ID

-- Добавим скругление углов заставки
local introUICorner = Instance.new("UICorner")
introUICorner.CornerRadius = UDim.new(0, 16)
introUICorner.Parent = introFrame

-- Контур заставки
local introUIStroke = Instance.new("UIStroke")
introUIStroke.Thickness = 4
introUIStroke.Color = Color3.fromRGB(255, 255, 255)
introUIStroke.Parent = introFrame

local introText = Instance.new("TextLabel")
introText.Size = UDim2.new(0.6, 0, 0.2, 0)
introText.Position = UDim2.new(0.2, 0, 0.4, 0)
introText.BackgroundTransparency = 0.5
introText.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
introText.Text = "Hello! The cheat is activated in a second..."
introText.TextColor3 = Color3.fromRGB(255, 255, 255)
introText.TextScaled = true
introText.Font = Enum.Font.Gotham
introText.Parent = introFrame
introText.TextStrokeTransparency = 0.7
introText.TextWrapped = true
introText.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)

-- Скруглим углы тексту
local textUICorner = Instance.new("UICorner")
textUICorner.CornerRadius = UDim.new(0, 8)
textUICorner.Parent = introText

-- Контур для текста
local textUIStroke = Instance.new("UIStroke")
textUIStroke.Thickness = 2
textUIStroke.Color = Color3.fromRGB(0, 0, 0)
textUIStroke.Parent = introText

introFrame.Parent = screenGui

-- Твин для плавного исчезновения заставки (сдвиг вверх и прозрачность)
local tweenInfo = TweenInfo.new(2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
local tweenProps = {
    Position = UDim2.new(0, 0, -1, 0),
    BackgroundTransparency = 1,
    ImageTransparency = 1,
    -- Для текста отдельно делаем прозрачность
}
local tween = TweenService:Create(introFrame, tweenInfo, tweenProps)

local textFadeTween = TweenService:Create(introText, tweenInfo, {TextTransparency = 1})

-- Переменные чита
local cheatEnabled = false
local canJumpSpin = true

local function toggleCheat()
    cheatEnabled = not cheatEnabled
    print("Cheat enabled:", cheatEnabled)
end

-- Обработка прыжка
UserInputService.JumpRequest:Connect(function()
    if cheatEnabled and canJumpSpin then
        local character = player.Character
        if not character then return end
        
        local humanoid = character:FindFirstChildOfClass("Humanoid")
        local rootPart = character:FindFirstChild("HumanoidRootPart")
        if humanoid and rootPart then
            canJumpSpin = false
            humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
            rootPart.CFrame = rootPart.CFrame * CFrame.Angles(0, -1, 0)
            wait(0.2)
            rootPart.CFrame = rootPart.CFrame * CFrame.Angles(0, 1, 0)
            canJumpSpin = true
        end
    end
end)

-- Обработка переключения чита по клавише M
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if not gameProcessed and input.KeyCode == Enum.KeyCode.M then
        toggleCheat()
    end
end)

-- Запускаем твин заставки и текстового лейбла, после чего удаляем их
tween:Play()
textFadeTween:Play()
tween.Completed:Connect(function()
    screenGui:Destroy()
    print("Intro finished. Press M to toggle cheat.")
end)
